<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Treatise on How One Should Treat the Way of Highlighting, Memorizing, Taking Notes & Revising It | Al-Istibānah</title>
  <link href="https://fonts.googleapis.com/css2?family=Amiri&family=Cormorant+Garamond:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      background:#fdfbf6;
      color:#2a2a2a;
      line-height:1.88;
      font-size:1.13rem;
    }
    a { color:#1a5fb4; text-decoration:none; }
    a:hover { text-decoration:underline; }

    /* Topbar with embedded audio player */
    .topbar {
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:8px 20px;
      background:linear-gradient(#fdfbf6,#efe4cc);
      border-bottom:1px solid #cbb891;
      position:sticky;
      top:0;
      z-index:1000;
      transition:all .3s ease;
      flex-wrap:wrap;
      gap:10px;
    }
    .topbar.shrunk { padding:6px 20px; box-shadow:0 3px 10px rgba(0,0,0,.08); }
    .hijri-brand {
      font-family:"Amiri",serif;
      font-size:1.8rem;
      font-weight:500;
      color:#3a2b1a;
      flex-shrink:0;
    }
    .topbar-right {
      display:flex;
      align-items:center;
      gap:14px;
      flex-wrap:wrap;
      justify-content:flex-end;
      flex:1;
    }

    /* Embedded Telegram-style audio player in topbar */
    .tg-player {
      display:none;
      align-items:center;
      gap:8px;
      background:#1f232a;
      color:#ffffff;
      padding:4px 10px;
      border-radius:6px;
      box-shadow:0 2px 8px rgba(0,0,0,.3);
      font-size:13px;
      height:36px;
    }
    .tg-player.active { display:flex; }
    .tg-btn {
      background:none;
      border:none;
      color:#ffffff;
      cursor:pointer;
      padding:4px;
      opacity:.9;
      font-size:15px;
    }
    .tg-btn:hover { opacity:1; }
    .tg-title {
      flex:1;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:180px;
    }
    .tg-time {
      color:#a8adb3;
      min-width:50px;
      text-align:right;
    }
    .tg-progress {
      position:absolute;
      bottom:-3px;
      left:0;
      right:0;
      height:2px;
      background:rgba(255,255,255,.15);
    }
    .tg-progress span {
      height:100%;
      width:0%;
      background:#4da3ff;
      display:block;
    }

    /* Search */
    .search-area { display:flex; align-items:center; gap:8px; position:relative; }
    .search-box input {
      width:220px;
      padding:8px 12px;
      border-radius:8px;
      border:1px solid #d8c7a4;
      background:linear-gradient(#fffefb,#efe3cd);
      transition:width .35s ease,box-shadow .3s;
    }
    .search-box input:focus,
    .search-box:hover input {
      width:300px;
      box-shadow:0 0 0 3px rgba(26,95,180,.12);
      outline:none;
    }
    .search-icon {
      width:32px;
      height:32px;
      border-radius:8px;
      background:linear-gradient(#f6eedc,#e2d2ae);
      border:1px solid #cbb891;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
    }
    .search-icon img { width:17px; }
    .search-suggestions {
      position:absolute;
      top:100%;
      left:0;
      right:0;
      background:#fffefb;
      border:1px solid #d8c7a4;
      border-radius:8px;
      margin-top:4px;
      max-height:280px;
      overflow-y:auto;
      box-shadow:0 6px 16px rgba(0,0,0,.12);
      z-index:999;
      display:none;
    }
    .suggestion-item {
      padding:10px 14px;
      cursor:pointer;
      border-bottom:1px solid #f0e8d8;
      transition:background .2s;
    }
    .suggestion-item:last-child { border-bottom:none; }
    .suggestion-item:hover { background:#efe3cd; }
    .suggestion-title { font-weight:500; color:#1a5fb4; }
    .suggestion-excerpt { font-size:13px; color:#6b5a45; margin-top:3px; }

    /* Header */
    header {
      position:relative;
      border-bottom:1px solid #cbb891;
      padding:28px 20px 20px;
      text-align:center;
    }
    header::before {
      content:"";
      position:absolute;
      inset:0;
      background:url("https://raw.githubusercontent.com/millahibrahim148-ops/almaymunah/refs/heads/main/icon%20image/image.png") center/cover no-repeat;
      opacity:.09;
    }
    .header-inner {
      position:relative;
      max-width:1100px;
      margin:auto;
    }
    .header-title {
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
    }
    .header-title img { width:190px; }
    .header-text p {
      color:#4a3f2f;
      font-size:17.5px;
      margin:0;
      max-width:640px;
    }

    /* Horizontal nav */
    .main-nav {
      background:linear-gradient(#fffdf8,#f5f0e5);
      border-bottom:1px solid #d8c7a4;
      padding:12px 0;
      text-align:center;
      box-shadow:0 2px 6px rgba(0,0,0,.05);
    }
    .nav-list {
      display:flex;
      justify-content:center;
      flex-wrap:wrap;
      gap:12px;
      max-width:1100px;
      margin:0 auto;
      padding:0 16px;
    }
    .nav-square {
      padding:10px 18px;
      background:#fffefb;
      border:1px solid #cbb891;
      border-radius:6px;
      font-size:15px;
      color:#3a2b1a;
      text-decoration:none;
      box-shadow:0 1px 4px rgba(0,0,0,.06);
      transition:all .2s ease;
      min-width:100px;
      text-align:center;
    }
    .nav-square:hover {
      background:#efe3cd;
      transform:translateY(-1px);
      box-shadow:0 3px 10px rgba(0,0,0,.12);
    }

    /* Social icons */
    .social-icons {
      display:flex;
      gap:10px;
    }
    .social-icons a {
      width:34px;
      height:34px;
      border-radius:6px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:#444;
      box-shadow:0 1px 4px rgba(0,0,0,.18);
      transition:all .2s;
    }
    .social-icons a:hover {
      transform:translateY(-1px);
      box-shadow:0 3px 10px rgba(0,0,0,.25);
    }
    .social-icons img { width:18px; filter:brightness(1.15); }

    /* Layout */
    .container {
      max-width:1150px;
      margin:32px auto;
      padding:0 20px;
      display:grid;
      grid-template-columns:1fr 260px;
      gap:32px;
    }
    main {
      background:linear-gradient(rgba(255,255,255,.88),rgba(255,255,255,.88)),
      url("https://raw.githubusercontent.com/millahibrahim148-ops/almaymunah/refs/heads/main/icon%20image/image.png") center/cover;
      border:1px solid #e0d3b7;
      border-radius:12px;
      padding:28px;
      animation:fadeInContent 0.8s ease-out forwards;
      opacity:0;
    }
    @keyframes fadeInContent {
      to { opacity:1; }
    }
    .article-title {
      font-family:"Amiri",serif;
      font-size:1.8rem;
      color:#555;
      margin-bottom:32px;
      line-height:1.25;
      text-align:center;
    }
    .breadcrumb {
      color:#6b5a45;
      margin-bottom:16px;
      font-size:0.95rem;
      text-align:center;
    }
    .breadcrumb a { color:#1a5fb4; text-decoration:none; }
    .breadcrumb a:hover { text-decoration:underline; }

    /* Content */
    .content {
      font-size:1.13rem;
      line-height:1.88;
    }
    .content h2 {
      font-family:"Amiri",serif;
      font-size:1.9rem;
      margin:3.2rem 0 1.2rem;
      color:#1e1e1e;
    }
    .content p {
      margin-bottom:1.8rem;
    }
    .content table {
      width:100%;
      border-collapse:collapse;
      margin:2.5rem 0;
      font-size:1rem;
      background:#fdfaf5;
      border:1px solid #e8dfc8;
      border-radius:10px;
      overflow:hidden;
      box-shadow:0 2px 12px rgba(0,0,0,.05);
    }
    .content th, .content td {
      padding:1.2rem 1.4rem;
      text-align:left;
      border-bottom:1px solid #e8dfc8;
    }
    .content th {
      background:#f8f2e8;
      font-weight:600;
      color:#3a2b1a;
    }
    .content tr:last-child td { border-bottom:none; }
    .content tr:hover {
      background:#fffefb;
      transform:translateY(-1px);
      box-shadow:0 3px 10px rgba(0,0,0,.12);
      transition:all .2s ease;
    }

    aside {
      background:linear-gradient(rgba(255,255,255,.88),rgba(255,255,255,.88)),
      url("https://raw.githubusercontent.com/millahibrahim148-ops/almaymunah/refs/heads/main/icon%20image/image.png") center/cover;
      border:1px solid #e0d3b7;
      border-radius:12px;
      padding:20px;
    }
    aside h3 {
      font-family:"Amiri",serif;
      font-size:1.5rem;
      color:#3c2f1e;
      margin-bottom:16px;
    }
    .nav-item {
      padding:9px;
      margin-bottom:7px;
      border-radius:6px;
      background:linear-gradient(#fffdf8,#efe3cd);
      border:1px solid #d6c4a3;
      transition:all .25s ease;
      cursor:pointer;
    }
    .nav-item:hover {
      transform:scale(1.04);
      box-shadow:0 4px 12px rgba(0,0,0,.12);
      background:linear-gradient(#fffdf8,#f8f2e8);
    }

    footer {
      margin-top:60px;
      padding:24px;
      text-align:center;
      border-top:1px solid #d8c7a4;
      color:#6b5a45;
      font-size:15px;
    }

    #backToTop {
      position:fixed;
      bottom:22px;
      right:22px;
      width:46px;
      height:46px;
      background:#3a2b1a;
      color:white;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      opacity:0;
      visibility:hidden;
      transition:all .3s;
      font-size:1.45rem;
      z-index:999;
    }
    #backToTop.visible {
      opacity:.88;
      visibility:visible;
    }

    @media (max-width:860px) {
      .container { grid-template-columns:1fr; }
      main { padding:20px 16px; }
      .topbar { flex-direction:column; align-items:flex-start; gap:8px; }
      .tg-player { width:100%; justify-content:space-between; }
    }
  </style>
</head>
<body>
  <div class="topbar" id="topbar">
    <div class="hijri-brand" id="hijriDate"></div>

    <!-- Telegram-style audio player embedded in topbar -->
    <div class="tg-player" id="player">
      <button class="tg-btn" id="playBtn" aria-label="Play/Pause">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
      </button>
      <div class="tg-title" id="title">Treatise on Memorizing & Notes</div>
      <span class="tg-time" id="time">0:00</span>
      <button class="tg-btn" id="closeBtn" aria-label="Close">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.3 5.7L12 12l6.3 6.3-1.4 1.4L10.6 13.4 4.3 19.7 2.9 18.3 9.2 12 2.9 5.7 4.3 4.3l6.3 6.3 6.3-6.3z"/></svg>
      </button>
      <div class="tg-progress" id="progress"><span></span></div>
    </div>

    <div class="topbar-right">
      <div class="social-icons">
        <a href="https://discord.com/users/1401569195388440637"><img src="https://raw.githubusercontent.com/millahibrahim148-ops/Al-Istibanah/refs/heads/main/icon%20image/discord-white-icon.webp" alt="Discord"></a>
        <a href="https://www.instagram.com/ab0.harb/"><img src="https://raw.githubusercontent.com/millahibrahim148-ops/almaymunah/refs/heads/main/icon%20image/instagram-white-icon.webp" alt="Instagram"></a>
        <a href="https://www.youtube.com/@abuharbah05"><img src="https://raw.githubusercontent.com/millahibrahim148-ops/almaymunah/refs/heads/main/icon%20image/youtube-app-white-icon.webp" alt="YouTube"></a>
        <a href="https://t.me/istibanah_bot"><img src="https://raw.githubusercontent.com/millahibrahim148-ops/almaymunah/refs/heads/main/icon%20image/telegram-xxl.png" alt="Telegram"></a>
      </div>
      <div class="search-area">
        <div class="search-box">
          <input id="searchInput" placeholder="Search articles…" autocomplete="off">
        </div>
        <div class="search-icon" onclick="searchArticles()">
          <img src="https://raw.githubusercontent.com/millahibrahim148-ops/almaymunah/refs/heads/main/icon%20image/search-magnifying-glass-white-icon.webp" alt="Search">
        </div>
        <div class="search-suggestions" id="searchSuggestions"></div>
      </div>
    </div>
  </div>

  <header>
    <div class="header-inner">
      <div class="header-title">
        <img src="https://raw.githubusercontent.com/millahibrahim148-ops/Al-Istibanah/refs/heads/main/icon%20image/1228%20(1).png" alt="Logo">
        <div class="header-text">
          <p>Upholding the Athār and the Creed of the Salaf — Concise Advices & Gems from the Salaf</p>
        </div>
      </div>
    </div>
  </header>

  <nav class="main-nav">
    <div class="nav-list">
      <a href="/" class="nav-square">Home</a>
      <a href="#" class="nav-square">Articles</a>
      <a href="#" class="nav-square">Library</a>
      <a href="#" class="nav-square">ʿAqīdah</a>
      <a href="#" class="nav-square">Manhaj</a>
      <a href="#" class="nav-square">Fiqh</a>
      <a href="#" class="nav-square">Tazkiyah</a>
    </div>
  </nav>

  <div class="container">
    <main>
      <div class="breadcrumb">
        <a href="/">Home</a> → <a href="#">Articles</a> → Treatise on How One Should Treat the Way of Highlighting, Memorizing, Taking Notes & Revising It
      </div>

      <h1 class="article-title">Treatise on How One Should Treat the Way of Highlighting, Memorizing, Taking Notes & Revising It</h1>

      <div class="content">
        <p>Obviously there is benefits in taking a note of something and in turning to it 100% but the thing is When you are new to a book, especially if it's a topic you haven't read that much about Everything is new to you everything you look at and you think subhanAllah. I did not know that.</p>

        <!-- ... rest of the content remains the same ... -->

        <p>Yeah That's not to say you shouldn't highlight as you go along because there are definitely things that will be useful for you But you know You should be really conservative with your highlights in your notes because if you use the same book five years from now You're gonna be a little annoyed with yourself</p>
      </div>
    </main>

    <aside>
      <h3>Navigation</h3>
      <div class="nav-item">Home</div>
      <div class="nav-item">Articles</div>
      <div class="nav-item">Library</div>

      <h3>Topics</h3>
      <div class="nav-item">ʿAqīdah</div>
      <div class="nav-item">Manhaj</div>
      <div class="nav-item">Fiqh</div>
      <div class="nav-item">Tazkiyah</div>
    </aside>
  </div>

  <footer>
    © 2025 Al-Istibānah — Upon the Manhaj of the Salaf
  </footer>

  <div id="backToTop" title="Back to top">↑</div>

  <script>
    // Hijri date
    function updateHijri() {
      const today = new Date();
      const hijri = new Intl.DateTimeFormat('ar-SA-u-ca-islamic', {
        day: 'numeric',
        month: 'long',
        year: 'numeric'
      }).format(today);
      document.getElementById('hijriDate').textContent = hijri;
    }
    updateHijri();

    // Scroll effects
    window.addEventListener("scroll", () => {
      document.getElementById("topbar").classList.toggle("shrunk", window.scrollY > 80);
      document.getElementById("backToTop").classList.toggle("visible", window.scrollY > 400);
    });
    document.getElementById("backToTop").onclick = () => {
      window.scrollTo({top:0, behavior:"smooth"});
    };

    // Search suggestions (live + Enter key)
    const articlesData = [
      { title: "Treatise on How One Should Treat the Way of Highlighting, Memorizing, Taking Notes & Revising It", file: "articles/taking-notes.html", excerpt: "How to properly highlight, memorize, take notes and revise Islamic knowledge..." },
    ];

    const searchInput = document.getElementById("searchInput");
    const suggestionsBox = document.getElementById("searchSuggestions");

    searchInput.addEventListener("input", () => {
      const q = searchInput.value.trim().toLowerCase();
      suggestionsBox.innerHTML = "";
      if (q.length < 2) {
        suggestionsBox.style.display = "none";
        return;
      }
      const matches = articlesData.filter(a =>
        a.title.toLowerCase().includes(q) ||
        (a.excerpt || "").toLowerCase().includes(q)
      ).slice(0, 6);
      matches.forEach(a => {
        const item = document.createElement("div");
        item.className = "suggestion-item";
        item.innerHTML = `<div class="suggestion-title">${a.title}</div><div class="suggestion-excerpt">${(a.excerpt || "").slice(0,70)}${(a.excerpt || "").length > 70 ? "..." : ""}</div>`;
        item.onclick = () => location.href = a.file;
        suggestionsBox.appendChild(item);
      });
      suggestionsBox.style.display = matches.length ? "block" : "none";
    });

    document.addEventListener("click", e => {
      if (!searchInput.contains(e.target) && !suggestionsBox.contains(e.target)) {
        suggestionsBox.style.display = "none";
      }
    });

    searchInput.addEventListener("keydown", e => {
      if (e.key === "Enter") {
        const q = searchInput.value.trim();
        if (q) window.location.href = "/search.html?s=" + encodeURIComponent(q);
      }
    });

    // Telegram-style audio player in topbar (hidden until main audio plays)
    const mainAudio = document.getElementById('mainAudio');
    const player = document.getElementById('player');
    const playBtn = document.getElementById('playBtn');
    const timeEl = document.getElementById('time');
    const progressBar = document.getElementById('progress').querySelector('span');
    const closeBtn = document.getElementById('closeBtn');

    const playIcon = `<svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>`;
    const pauseIcon = `<svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M6 5h4v14H6zm8 0h4v14h-4z"/></svg>`;

    mainAudio.addEventListener('play', () => {
      player.classList.add('active');
      playBtn.innerHTML = pauseIcon;
    });

    mainAudio.addEventListener('pause', () => {
      playBtn.innerHTML = playIcon;
    });

    mainAudio.addEventListener('timeupdate', () => {
      const pct = (mainAudio.currentTime / mainAudio.duration) * 100 || 0;
      progressBar.style.width = pct + '%';
      const cm = Math.floor(mainAudio.currentTime / 60);
      const cs = Math.floor(mainAudio.currentTime % 60).toString().padStart(2, '0');
      timeEl.textContent = `${cm}:${cs}`;
    });

    playBtn.onclick = () => {
      if (mainAudio.paused) {
        mainAudio.play();
      } else {
        mainAudio.pause();
      }
    };

    closeBtn.onclick = () => {
      mainAudio.pause();
      player.classList.remove('active');
    };
  </script>
</body>
</html>
